<%= content_tag :h2, t('.new_resource_for', template: @template_name) %>
<% @display_menu = "customizations" %>

  <%= form_for @resource, url: create_customization_resource_path(template_id: @template_id,
                          current_institution_id: @current_institution_id,
                          customization_overview_id: @customization_overview_id,
                          resource_level: @resource_level,
                          tab_number: @tab_number,
                          tab: @tab,
                          requirement_id: @requirement_id,
                          custom_origin: @custom_origin),
                          html: { :class => 'form-horizontal' } do |f| %>

    <%= render partial: "shared/errors", locals: {model: @resource } %>

    <fieldset>
      <div class="control-group">
        <%= f.label :resource_type, class: 'control-label' %>
        <div class="controls">
          <% if  @resource_level=="requirement" %>
            <%= f.select :resource_type,
                         options_for_select([
                                     [t_enum(:resource, :resource_type, :actionable_url), :actionable_url],
                                     [t_enum(:resource, :resource_type, :help_text), :help_text],
                                     [t_enum(:resource, :resource_type, :example_response), :example_response],
                                     [t_enum(:resource, :resource_type, :suggested_response), :suggested_response]
                         ], selected: @selected)%>
          <% else %>
            <%= f.select :resource_type,
                         options_for_select([
                                     [t_enum(:resource, :resource_type, :actionable_url), :actionable_url],
                                     [t_enum(:resource, :resource_type, :help_text), :help_text]
                                   ], selected: @selected)%>
          <% end %>
        </div>
      </div>

      <div class="control-group">
        <%= f.label :label, class: 'control-label required', id: 'label_label' %>
        <div class="controls">
          <%= f.text_field :label, placeholder: t('.label_placeholder'), class: 'input-xlarge' %>
        </div>
      </div>

      <div class="control-group">
        <%= f.label :text, class: 'control-label', id: 'text' %>
        <div class="controls">
          <%= f.text_area :text, size: '20x10', placeholder: t('.text_placeholder'), class: 'full-length' %>
        </div>
      </div>


      <div class="control-group">
         <%= f.label :value, class: 'control-label', id: 'value_label' %>
        <div class="controls">
          <%= f.text_field :value, placeholder: t('.value_placeholder'), class: 'input-xlarge' %>
        </div>
      </div>

      <div class="actions pull-left">
        <% if @custom_origin == 'Details' %>
          <%= render_back_button href: "#{@origin_path}##{@tab_number}",
                                 arrow: true, green: false %>
        <%else%>
          <%= render_back_button href: @origin_path.to_s,
                                 arrow: true, green: false %>
        <%end%>
          <%#= link_to '<< Back', :back,
                  :class => "btn" %>
      </div>

      <div class="actions pull-right">
        <%= render_cancel_button %>
        <%= render_submit_button t: '.save_changes' %>
      </div>

    </fieldset>

  <% end %>

